(this["webpackJsonpfoobar-app"]=this["webpackJsonpfoobar-app"]||[]).push([[0],{35:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),r=s(21),i=s.n(r),o=s(7),l="https://foo-bar-managers.herokuapp.com/";var m=s.p+"static/media/logo_white.9fdd9bc5.svg";function j(e){return Object(n.jsx)("div",{className:"Home",children:Object(n.jsxs)("article",{className:"home-wrapper",children:[Object(n.jsxs)("div",{className:"home-title",children:[Object(n.jsx)("h1",{children:"Welcome to"}),Object(n.jsx)("h1",{children:"FooBar"})]}),Object(n.jsx)("img",{className:"logo",src:m,alt:"logo"})]})})}var b=s.p+"static/media/arrow.132e1dc7.svg",d=s.p+"static/media/beer.ab028488.svg",u=[{name:"El Hefe",linkImg:"/images/beers-img/elhefe.png"},{name:"Fairy Tale Ale",linkImg:"/images/beers-img/fairytaleale.png"},{name:"GitHop",linkImg:"/images/beers-img/githop.png"},{name:"Hollaback Lager",linkImg:"/images/beers-img/hollabacklager.png"},{name:"Hoppily Ever After",linkImg:"/images/beers-img/hoppilyeverafter.png"},{name:"Mowintime",linkImg:"/images/beers-img/mowintime.png"},{name:"Row 26",linkImg:"/images/beers-img/row26.png"},{name:"Ruined Childhood",linkImg:"/images/beers-img/ruinedchildhood.png"},{name:"Sleighride",linkImg:"/images/beers-img/sleighride.png"},{name:"Steampunk",linkImg:"/images/beers-img/steampunk.png"}],h=function(e){return Object(n.jsxs)("div",{className:"popup-box",children:[Object(n.jsx)("img",{className:"arrow",alt:"arrow",src:b,onClick:e.handleClose}),Object(n.jsx)("img",{src:d,alt:"Cart",className:"cart"}),Object(n.jsxs)("div",{className:"beerTop",children:[Object(n.jsx)("h2",{className:"beerName",children:e.beerDetails.name}),Object(n.jsx)("h3",{className:"category",children:e.beerDetails.category})]}),u.map((function(t,s){return e.beerDetails.name===t.name?Object(n.jsx)("img",{className:"popup-img",alt:"beerImage",src:"/FooBar"+t.linkImg},s):Object(n.jsx)("div",{})})),Object(n.jsxs)("div",{className:"box",children:[Object(n.jsx)("h1",{children:"Details"}),Object(n.jsx)("p",{children:e.beerDetails.description.overallImpression}),Object(n.jsx)("p",{children:e.beerDetails.description.aroma}),Object(n.jsx)("p",{children:e.beerDetails.description.flavor}),Object(n.jsxs)("div",{className:"boxes",children:[Object(n.jsx)("div",{className:"small-box",children:Object(n.jsxs)("p",{children:["Alcohol:",Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:e.beerDetails.alc})]})}),Object(n.jsx)("div",{className:"small-box",children:Object(n.jsxs)("p",{children:["Stars:",Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:e.beerDetails.popularity})]})})]})]})]})},g=s(13);function O(e){return Object(n.jsx)("svg",Object(g.a)(Object(g.a)({width:"30",height:"28",viewBox:"0 0 30 28",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(n.jsx)("path",{d:"M15 1.61804L17.8922 10.5193L18.0044 10.8647H18.3677H27.727L20.1552 16.366L19.8613 16.5795L19.9735 16.925L22.8657 25.8262L15.2939 20.325L15 20.1115L14.7061 20.325L7.13428 25.8262L10.0265 16.925L10.1387 16.5795L9.84482 16.366L2.27299 10.8647H11.6323H11.9956L12.1078 10.5193L15 1.61804Z",stroke:"black"})}))}function x(e){var t=e.beers.filter((function(t){return t.name===e.item.name}))[0],s=Object(a.useState)(!1),c=Object(o.a)(s,2),r=c[0],i=c[1],l=function(){i(!r)};return Object(n.jsxs)("article",{children:[Object(n.jsxs)("div",{className:"BeersList",children:[Object(n.jsx)("div",{className:e.item.isStar?"star-yellow":"star",children:Object(n.jsx)(O,{className:"ratingImg",onClick:function(){e.ratingToggle(e.item.name)}})}),u.map((function(t,s){return e.item.name===t.name?Object(n.jsx)("img",{className:"beer-tap-img",alt:"beerImage",src:"/FooBar"+t.linkImg},s):Object(n.jsx)("div",{},s)})),Object(n.jsxs)("div",{className:"beer-buttons",children:[Object(n.jsxs)("div",{className:"beer-buttons-add-remove",children:[Object(n.jsx)("button",{className:"dec-btn",onClick:function(){e.item.amount>=1&&e.editCartItems(e.item.name,-1)},children:"-"}),e.item.amount,Object(n.jsx)("button",{onClick:function(){e.editCartItems(e.item.name,1)},children:"+"})]}),Object(n.jsx)("input",{type:"button",value:"See Details",onClick:l})]})]}),r&&Object(n.jsx)(h,{beerDetails:t,handleClose:l})]})}function p(e){var t=e.cartItems;return Object(n.jsx)("div",{children:Object(n.jsx)("section",{className:"beerCartWrapper",children:t&&t.map((function(t,s){return console.log(t),Object(n.jsx)(x,{item:t,data:e.data,beers:e.beers,editCartItems:e.editCartItems,ratingToggle:e.ratingToggle},s)}))})})}var f=s.p+"static/media/logo_dark.e18b6175.svg",v=s.p+"static/media/recycle-bin.83ccf2b8.svg";function C(e){return Object(n.jsxs)("div",{className:"CartItem",children:[Object(n.jsx)("img",{src:v,className:"bin",alt:"bin",onClick:function(){console.log("Remove",e.amount),e.editCartItems(e.name,-e.amount)}}),u.map((function(t,s){return e.name===t.name?Object(n.jsx)("img",{className:"cart-img",alt:"beerImage",src:"/FooBar"+t.linkImg},s):Object(n.jsx)("div",{})})),Object(n.jsx)("h1",{className:"beer-name",children:e.name}),Object(n.jsxs)("div",{className:"cart-add-remove-btn",children:[Object(n.jsx)("button",{className:"down",onClick:function(){e.amount>=1&&e.editCartItems(e.name,-1)},children:"-"}),e.amount,Object(n.jsx)("button",{className:"up",onClick:function(){e.editCartItems(e.name,1)},children:"+"})]})]})}function N(e){var t=e.cartItems.filter((function(e){return e.amount>0}));return Object(n.jsx)("div",{className:"CartList",children:t.map((function(t,s){return Object(n.jsx)(C,Object(g.a)(Object(g.a)({},t),{},{editCartItems:e.editCartItems,notificationsCount:e.notificationsCount}),s)}))})}var I=s.p+"static/media/long-arrow.d028148c.svg",y=s(9);function k(e){function t(){return 0===e.notificationsCount?Object(n.jsxs)("div",{className:"noBeers",children:[Object(n.jsx)("h3",{children:"You have no beers on your order!"}),Object(n.jsx)(y.b,{to:"/shop",children:Object(n.jsx)("button",{className:"pay",children:"Let's fix that"})})]}):(console.log("we have an order"),Object(n.jsxs)("div",{className:"next-step",children:[Object(n.jsx)("button",{className:"back-shop",children:Object(n.jsxs)(y.b,{to:"/shop",children:[Object(n.jsx)("img",{className:"back-arrow-dark",src:I,alt:"arrow"}),"Continue Shopping"]})}),Object(n.jsx)("button",{className:"pay",children:Object(n.jsx)(y.b,{to:"/payment",children:"Pay"})})]}))}function s(){return 1===e.notificationsCount?Object(n.jsxs)("h3",{className:"cart-total",children:["A total of ",e.notificationsCount," beer"]}):Object(n.jsxs)("h3",{className:"cart-total",children:["A total of ",e.notificationsCount," beers"]})}return Object(n.jsxs)("section",{children:[Object(n.jsx)("h2",{className:"cart-order",children:"Your Order"}),Object(n.jsx)(s,{}),Object(n.jsx)(N,{editOrder:e.editOrder,cartItems:e.cartItems,editCartItems:e.editCartItems,notificationsCount:e.notificationsCount}),Object(n.jsx)(t,{}),Object(n.jsx)("div",{})]})}function L(e){return Object(n.jsx)("div",{className:"CartNotifications",children:Object(n.jsx)(y.b,{to:"/cart",children:Object(n.jsx)("div",{className:"logo-dark",style:{backgroundImage:"url(".concat(f,")")},children:Object(n.jsx)("h1",{children:e.notificationsCount})})})})}function w(e){return Object(n.jsxs)("div",{className:"Header",children:[Object(n.jsx)("h1",{children:"FooBar"}),Object(n.jsx)(L,{beers:e.beers,data:e.data,cartItems:e.cartItems,editCartItems:e.editCartItems,notificationsCount:e.notificationsCount})]})}function S(e){return Object(n.jsxs)("div",{className:"Shop",children:[Object(n.jsx)(w,{beers:e.beers,data:e.data,cartItems:e.cartItems,editCartItems:e.editCartItems,notificationsCount:e.notificationsCount}),Object(n.jsx)("section",{className:"beerListCenter",children:Object(n.jsx)(p,{beers:e.beers,data:e.data,cartItems:e.cartItems,editCartItems:e.editCartItems,ratingToggle:e.ratingToggle})})]})}var F=s(23);function q(e){var t=e.cartItems.filter((function(e){return e.amount>0})),s=Object(F.a)(),a=s.register,c=s.handleSubmit,r=s.errors;return Object(n.jsx)("div",{className:"Form",children:Object(n.jsxs)("form",{onSubmit:c((function(s){console.log(s),e.sendPostRequest(t)})),children:[Object(n.jsx)("h1",{children:"Checkout"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{name:"name",ref:a({required:"*Required"}),placeholder:"\xa0",type:"text"}),Object(n.jsx)("label",{children:"Full Name"})]}),r.name&&Object(n.jsx)("p",{children:r.name.message}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{placeholder:"\xa0",type:"tel",inputMode:"numeric",autoComplete:"cc-number",name:"cardNumber",id:"cardNumber",onChange:function(e){var t=e.target.value;e.target.value=function(e){var t,s;return(null===(t=e.replace(/\s/g,""))||void 0===t||null===(s=t.match(/.{1,4}/g))||void 0===s?void 0:s.join(" ").substr(0,19))||""}(t)},ref:a({required:"*Required",minLength:{value:19,message:"Verify number"}})}),Object(n.jsx)("label",{htmlFor:"cardNumber",children:"Card Number"})]}),r.cardNumber&&Object(n.jsx)("p",{children:r.cardNumber.message}),Object(n.jsxs)("div",{className:"expirationDate",children:[Object(n.jsxs)("div",{className:"small-div",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"month",placeholder:"\xa0",type:"tel",inputMode:"numeric",autoComplete:"cc-number",name:"month",id:"month",onChange:function(e){var t=e.target.value;e.target.value=function(e){return e.substr(0,2)}(t)},ref:a({required:"*Required",minLength:{value:2,message:"Verify number"},pattern:/\d+/})}),Object(n.jsx)("label",{htmlFor:"month",children:"mm"})]}),r.month&&Object(n.jsx)("p",{children:r.month.message})]}),Object(n.jsxs)("div",{className:"small-div",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"year",placeholder:"\xa0",type:"tel",inputMode:"numeric",autoComplete:"cc-number",name:"year",id:"year",onChange:function(e){var t=e.target.value;e.target.value=function(e){return e.substr(0,2)}(t)},ref:a({required:"*Required",minLength:{value:2,message:"Verify number"},pattern:/\d+/})}),Object(n.jsx)("label",{htmlFor:"year",children:"yy"})]}),r.year&&Object(n.jsx)("p",{children:r.year.message})]}),Object(n.jsxs)("div",{className:"small-div",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"cvv",placeholder:"\xa0",type:"tel",inputMode:"numeric",autoComplete:"cc-number",name:"cvv",id:"cvv",onChange:function(e){var t=e.target.value;e.target.value=function(e){return e.substr(0,3)}(t)},ref:a({required:"*Required",minLength:{value:3,message:"Verify number"},pattern:/\d+/})}),Object(n.jsx)("label",{htmlFor:"cvv",children:"cvv"})]}),r.cvv&&Object(n.jsx)("p",{children:r.cvv.message})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{className:"submit",type:"submit",value:"Pay Now"})})]})})}function T(e){return Object(n.jsxs)("section",{children:[Object(n.jsx)(w,{notificationsCount:e.notificationsCount}),Object(n.jsx)(q,{sendPostRequest:e.sendPostRequest,cartItems:e.cartItems})]})}s(35);var D=s(2),R=s.p+"static/media/cart.6bbde604.svg",H=s.p+"static/media/home.f8a0eabe.svg",B=s.p+"static/media/shop.d13cf86b.svg";var P=function(){var e,t=Object(a.useState)([]),s=Object(o.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)({}),m=Object(o.a)(i,2),b=m[0],d=m[1],u=Object(a.useState)([]),h=Object(o.a)(u,2),g=h[0],O=h[1];function x(e){var t,s;console.log("order from form",e),t=e,s=f,fetch("https://foo-bar-managers.herokuapp.com/order",{method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then((function(e){return s()}))}if(g.length>1){e=g.reduce((function(e,t){return e+t.amount}),0)}function p(e,t){var s=g.map((function(s){return s.name===e&&(s.amount+=t),s}));O(s)}function f(){console.log("sucsesssssssssssssssssssssssssssssssss")}return Object(a.useEffect)((function(){var e,t,s;e=d,t=O,fetch(l,{method:"get",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.ok)return e.json();console.log("GET failed!")})).then((function(s){e(s);var n=[];s.taps.forEach((function(e){0===n.filter((function(t){return t.name===e.beer})).length&&n.push({name:e.beer,amount:0,isStar:!1})})),console.log(n,"x"),t(n)})),s=r,fetch(l+"beertypes",{method:"get",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.ok)return e.json();console.log("GET failed!")})).then((function(e){return s(e)}))}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(y.a,{children:Object(n.jsxs)("div",{className:"nav",children:[Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsxs)(y.b,{to:"/",children:[Object(n.jsx)("img",{className:"homeImg",src:H,alt:"homeImg"}),Object(n.jsx)("p",{children:"Home"})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(y.b,{to:"/shop",children:[Object(n.jsx)("img",{className:"shopImg",src:B,alt:"shopImg"}),Object(n.jsx)("p",{children:"Shop"})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(y.b,{to:"/cart",children:[Object(n.jsx)("img",{className:"cartImg",src:R,alt:"cart"}),Object(n.jsx)("p",{children:"Cart"})]})})]})}),Object(n.jsxs)(D.c,{children:[Object(n.jsx)(D.a,{path:"/payment",children:Object(n.jsx)(T,{notificationsCount:e,sendPostRequest:x,cartItems:g})}),Object(n.jsx)(D.a,{path:"/shop",children:Object(n.jsx)(S,{notificationsCount:e,data:b,beers:c,cartItems:g,editCartItems:p,ratingToggle:function(e){var t=g.map((function(t){return t.name===e&&(t.isStar?t.isStar=!1:t.isStar=!0),t}));console.log(t,"nextItem"),O(t)}})}),Object(n.jsx)(D.a,{path:"/cart",children:Object(n.jsx)(k,{notificationsCount:e,data:b,beers:c,cartItems:g,editCartItems:p,sendPostRequest:x})}),Object(n.jsx)(D.a,{path:"/",children:Object(n.jsx)(j,{data:b,beers:c,cartItems:g,editCartItems:p})})]})]})})})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,37)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),E()}},[[36,1,2]]]);
//# sourceMappingURL=main.bee5eb8a.chunk.js.map